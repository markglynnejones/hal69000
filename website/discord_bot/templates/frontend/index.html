{% extends 'frontend/base.html' %}

{% load static %}


<!-- TODO replace font awesome anchors with buttons -->

{% block title %}
HAL 69000
{% endblock %}

{% block content %}
<div class="sounds-container">
  {% for sound in sounds %}
  <div class='sound-container'>
    <div class="sound-name">{{ sound.command }}</div>
    <div class="sound-action">
      <!-- TODO FIX SOUND LINK -->
      <a class="my-link" onclick="playSound('{{ sound.filename.url }}')" href="#" title="Play in browser"><i class="fas fa-play-circle"></i></a>
    </div>
    <div class="sound-action">
      <a class="my-link" onclick="sendCommand('{{ sound.command }}')"  href="#" title="Play in Discord"><i class="fab fa-discord"></i></a>
    </div>
  </div>
  <hr>
  {% endfor %}
  <div class='sound-upload-container'>
    <form action="{% url 'index' %}" method="POST" enctype="multipart/form-data">
      <div class='upload-fields'>
        {% csrf_token %}
        {{ form }}
      </div>
      <!-- TODO submit the form better -->
      <a class="my-link" onclick="this.closest('form').submit();return false;" href="#"><i class="fas fa-plus"></i></a>
    </form>
  </div>
</div>
{% endblock %}
